{% extends "base.html" %}

{% block title %}Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ - Ù…Ø´Ø±ÙˆØ¹ Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ©{% endblock %}

{% block head_extra %}
<style>
    .themes-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--spacing-lg);
        margin-block-start: var(--spacing-2xl);
    }
    
    .theme-card {
        background-color: var(--color-bg-primary);
        border: 2px solid var(--color-border);
        border-radius: var(--radius-lg);
        padding: var(--spacing-xl);
        text-align: center;
        cursor: pointer;
        transition: all var(--transition-base);
        text-decoration: none;
        color: var(--color-text-primary);
        display: block;
    }
    
    .theme-card:hover {
        border-color: var(--color-primary);
        box-shadow: var(--shadow-lg);
        transform: translateY(-4px);
    }
    
    .theme-card__icon {
        font-size: var(--font-size-4xl);
        margin-block-end: var(--spacing-md);
    }
    
    .theme-card__title {
        font-size: var(--font-size-xl);
        margin-block-end: var(--spacing-sm);
    }
    
    .theme-card__description {
        color: var(--color-text-secondary);
        font-size: var(--font-size-sm);
        line-height: var(--line-height-relaxed);
    }
</style>
{% endblock %}

{% block content %}
<div class="container" style="max-width: 1200px; padding-block: var(--spacing-2xl);">
    <h1 style="text-align: center; margin-block-end: var(--spacing-md);">Ø§Ø®ØªØ± ÙØ¦Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h1>
    <p style="text-align: center; color: var(--color-text-secondary); margin-block-end: var(--spacing-2xl);">
        Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø°ÙŠ ØªØ±ØºØ¨ ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø­ÙˆÙ„Ù‡
    </p>
    
    <div class="themes-grid">
        {% if surveys %}
            {% for survey in surveys %}
                <form method="POST" action="{{ url_for('routes.select_theme') }}" style="margin: 0;">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                    <input type="hidden" name="survey_id" value="{{ survey.id }}">
                    <button type="submit" class="theme-card" style="width: 100%; border: none; background: var(--color-bg-secondary); cursor: pointer;">
                        <!-- <div class="theme-card__icon">ğŸ“‹</div> -->
                        <h3 class="theme-card__title">{{ survey.name }}</h3>
                        <!-- <p class="theme-card__description">
                            {% if survey.description %}
                                {{ survey.description }}
                            {% else %}
                                Ø§Ø³ØªØ·Ù„Ø§Ø¹ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ {{ survey.question_groups|length }} Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£Ø³Ø¦Ù„Ø©
                            {% endif %}
                        </p> -->
                        {% if survey.question_groups %}
                            <p class="theme-card__description" style="margin-top: var(--spacing-xs); font-size: var(--font-size-xs); color: var(--color-text-tertiary);">
                                {{ survey.question_groups[0].questions|length }} Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£Ø³Ø¦Ù„Ø©
                            </p>
                        {% endif %}
                    </button>
                </form>
            {% endfor %}
        {% else %}
            <p style="grid-column: 1 / -1; text-align: center; color: var(--color-text-secondary); padding: var(--spacing-xl);">
                Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø³ØªØ·Ù„Ø§Ø¹Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹
            </p>
        {% endif %}
    </div>
    
    <div style="text-align: center; margin-block-start: var(--spacing-2xl);">
        <a href="{{ url_for('routes.demography') }}" class="btn btn--secondary">
            â†’ Ø±Ø¬ÙˆØ¹
        </a>
    </div>
</div>
{% endblock %}
